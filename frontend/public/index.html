<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Ensure relative URLs resolve from the site root -->
  <base href="/">
  <meta charset="utf-8"/>
  <meta name="robots" content="index, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <!-- Keeps one manifest link; theme-color helps install UI -->
  <link rel="manifest" href="/manifest.webmanifest"><meta name="theme-color" content="#111111">
  <link rel="stylesheet" href="navi-style.css"/>
  <link rel="icon" href="/assets/icon-192.png" type="image/png"/>

  <title>NaviGen — The Navigation Platform</title>
  <meta name="description" content="Your city & events navigator. Works offline. Powered by NaviGen (beta).">

  <!-- 🔐 Add Stripe script -->
  <script src="https://js.stripe.com/v3/"></script>
</head>

<body>

<link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap" rel="stylesheet">

<div class="header-bar">
  <img alt="Logo Icon" height="24" id="logo-icon" src="/assets/logo-icon.svg" width="24" />
  <h2 id="page-title"></h2>
  <div class="header-pin">🔖</div>
</div>
<p class="page-subtext"></p>

<!-- 🔍 Search container -->
<div id="search-container" style="display: flex; align-items: center; gap: 0.5rem;">
  
  <!-- 🧭 Input + clear button -->
  <div id="search-left" style="position: relative;">
    <input
      id="search"
      type="text"
      placeholder="Type Destination..."
      autocomplete="off"
    />
    <!-- ❌ Clear button -->
    <button id="clear-search" aria-label="Clear search" type="button">X</button>
  </div>

  <!-- 📍 "Here" button -->
  <button id="here-button">📍 Here</button>

</div>

<!-- Full-height wrapper so content never slides under the bottom band -->
<div id="main-wrapper">

  <!-- Build accordion group sections from structure_data and locations -->
  <!-- Fills all space above the bottom band -->
  <div id="main-content">
    <div class="section-spacer"></div>  

    <!-- The only scrollable area -->
    <div id="locations-scroll">
      <div id="locations"></div>
      <div id="accordion"></div> <!-- Popular handled separately via renderPopularGroup() -->
    </div>    
  </div>

  <!-- 🧭 BOTTOM BAND: User Action Panel -->
  <div id="bottom-band">
    <button id="my-stuff-toggle" title="">🏠</button>
    <button id="alert-button" title="">💬</button>
    <button id="help-button" title="">☎️</button>
    <button id="accessibility-button" title="">♿</button>
  </div>

</div>

<script type="module" src="/app.js"></script>

<!-- 🔄 Stripe Initialization Loader -->
<div id="stripe-loader" style="display: none;">
  <div class="stripe-spinner"></div>
  <p>Preparing secure payment system…</p>
</div>

</body>

</html>
