{
  "version": 3,
  "sources": ["../../../../../../../../.wrangler/Documents/a_git/navigen-go/frontend/public/_worker.js", "../../../../../../../../.wrangler/AppData/Roaming/npm/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../../../../../../.wrangler/AppData/Roaming/npm/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../../../../../../../../.wrangler/tmp/pages-47fhXb/bundle-Jk3Kko/middleware-insertion-facade.js", "../../../../../../../../.wrangler/AppData/Roaming/npm/node_modules/wrangler/templates/middleware/common.ts", "../../../../../../../../.wrangler/tmp/pages-47fhXb/bundle-Jk3Kko/middleware-loader.entry.ts", "../../../../../../../../AppData/Roaming/npm/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../../../../../../AppData/Roaming/npm/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-iZtP4T/middleware-insertion-facade.js", "../../../../../../../../AppData/Roaming/npm/node_modules/wrangler/templates/middleware/common.ts", "../bundle-iZtP4T/middleware-loader.entry.ts"],
  "sourceRoot": "C:\\Users\\USER\\Documents\\a_git\\navigen-go\\frontend\\public\\.wrangler\\tmp\\dev-0SIy3S",
  "sourcesContent": ["// _worker.js \u2014 Cloudflare Pages: i18n + SEO rewrites at the edge.\n// - Sets <html lang=\"\u2026\">\n// - Adds <link rel=\"alternate\" hreflang=\"\u2026\"> (+ x-default)\n// - Sets Open Graph locale tags\n// - Injects <meta name=\"cf-country\"> (you already read this in app.js)\n\n// Add all locales we plan to serve (robots still block indexing; this only shapes HTML head)\nconst SUPPORTED = [\n  'en','fr','de','hu','it','he','uk','nl','ro','pl','cs','es','sk','da','sv','nb','sl','ru','pt','is','tr','zh','el','bg','hr','et','fi','lv','lt','mt','hi','ko','ja','ar'\n];\nconst DEFAULT = 'en';\n\n// Map to regioned OG locales (best defaults; adjust if your target market differs)\nconst OG_MAP = {\n  en:'en_US', fr:'fr_FR', de:'de_DE', hu:'hu_HU', it:'it_IT', he:'he_IL', uk:'uk_UA', nl:'nl_NL',\n  ro:'ro_RO', pl:'pl_PL', cs:'cs_CZ', es:'es_ES', sk:'sk_SK', da:'da_DK', sv:'sv_SE', nb:'nb_NO',\n  sl:'sl_SI', ru:'ru_RU', pt:'pt_PT', is:'is_IS', tr:'tr_TR',\n  // For Chinese you may want to split later: zh_CN (Simplified), zh_TW (Traditional)\n  zh:'zh_CN',\n  el:'el_GR', bg:'bg_BG', hr:'hr_HR', et:'et_EE', fi:'fi_FI', lv:'lv_LV', lt:'lt_LT', mt:'mt_MT',\n  hi:'hi_IN', ko:'ko_KR', ja:'ja_JP', ar:'ar_SA'\n};\n\n// Simple 10-min soft limiter (instance-local; enough to bounce bots)\n// <!-- per IP/UA, cookie-bound when present -->\nconst RATE = { windowMs: 10*60*1000, cap: 120, map: new Map() };\nfunction rateKey(req){\n  const ip = req.headers.get('cf-connecting-ip') || '0.0.0.0';\n  const ua = (req.headers.get('user-agent') || '').slice(0,64);\n  const cookie = req.headers.get('cookie') || '';\n  const hasAdmin = /\\bnavigen_gate_v2=ok\\b/.test(cookie);\n  return (hasAdmin?'C:':'N:') + ip + '|' + ua;\n}\nfunction rateHit(req){\n  const k = rateKey(req), now = Date.now();\n  let e = RATE.map.get(k);\n  if (!e || now > e.resetAt) { e = { count:0, resetAt: now + RATE.windowMs }; RATE.map.set(k, e); }\n  e.count++;\n  return { ok: e.count <= RATE.cap, remain: Math.max(0, RATE.cap - e.count), resetAt: e.resetAt };\n}\n\nexport default {\n  async fetch(req, env) {\n    const url = new URL(req.url);\n    \n    // CORS for local dev; echo Origin + allow credentials (localhost + LAN)\n    // Note: keeps prod strict (no wildcard with credentials)\n    const ORIGIN = req.headers.get('origin') || '';\n    const allowDevOrigin = (o) => {\n      try {\n        const u = new URL(o);\n        const h = u.hostname;\n        return (\n          h === 'localhost' ||\n          h === '127.0.0.1' ||\n          h === '0.0.0.0' ||\n          /^192\\.168\\.\\d+\\.\\d+$/.test(h) ||      // typical LAN\n          /\\.local$/.test(h)                      // Bonjour-style hosts\n        );\n      } catch { return false; }\n    };\n    const IS_LOCAL_ORIGIN = ORIGIN && allowDevOrigin(ORIGIN);\n\n    const corsHeaders = (base = {}) => {\n      const h = new Headers(base);\n      if (IS_LOCAL_ORIGIN) {\n        // Always echo exact Origin for credentialed requests\n        h.set('Access-Control-Allow-Origin', ORIGIN);\n        // Ensure caches vary by Origin to prevent poisoning\n        h.set('Vary', [h.get('Vary'), 'Origin'].filter(Boolean).join(', '));\n        h.set('Access-Control-Allow-Credentials', 'true');\n        h.set('Access-Control-Allow-Headers', req.headers.get('access-control-request-headers') || 'Content-Type');\n        h.set('Access-Control-Allow-Methods', 'GET,OPTIONS');\n      }\n      return h;\n    };\n    \n    // Preflight: 204 with echoed CORS\n    if (req.method === 'OPTIONS') {\n      return new Response(null, { status: 204, headers: corsHeaders() });\n    }    \n\n    // Early route: contexts API public (before any gates)\n    if (url.pathname === '/api/data/contexts' || url.pathname === '/api/data/contexts/') {\n      const r = rateHit(req);\n      const rlHdr = {\n        'X-RateLimit-Limit': String(RATE.cap),\n        'X-RateLimit-Remaining': String(r.remain),\n        'X-RateLimit-Reset': String(Math.ceil(r.resetAt/1000))\n      };\n      if (!r.ok) return new Response('Too Many Requests', { status: 429, headers: corsHeaders(rlHdr) });\n      return handleContexts(req, env, url, corsHeaders(rlHdr));\n    }\n\n    // Hard gate for /data/* (allow boot JSON; gate the rest)\n    // <!-- explicit; avoids any fall-through -->\n    {\n      const cookie = req.headers.get('cookie') || '';\n      const ADMIN_COOKIE = 'navigen_gate_v2';\n      const authed = new RegExp(`\\\\b${ADMIN_COOKIE}=ok\\\\b`).test(cookie);\n      // Public boot JSON for app startup; allow list only\n      const isBootJson = /^\\/data\\/(languages\\/[^/]+\\.json|structure\\.json|actions\\.json|alert\\.json|contexts\\.json)$/.test(url.pathname);\n    }\n\n    // PWA: early pass-through for critical static assets (avoid rewrites)\n    // <!-- ensures manifest/SW/assets are served raw and with correct MIME -->\n    if (url.pathname === '/manifest.webmanifest' ||\n        url.pathname === '/sw.js' ||\n        url.pathname.startsWith('/assets/')) {\n      return env.ASSETS.fetch(req);\n    }\n    \n    // /api/track: no redirect; handle missing/invalid target gracefully\n    if (url.pathname === '/api/track') {\n      const target = url.searchParams.get('target') || '';\n      // invalid/missing \u2192 just 204 so UI toast informs the user\n      if (!/^https?:\\/\\//i.test(target)) return new Response(null, { status: 204 });\n      // optional: log asynchronously here if needed; never redirect to avoid double-open\n      return new Response(null, { status: 204 });\n    }        \n    \n    // 401 gate disabled; RL/Bot Fight protect /api/data/*\n    if (url.pathname.startsWith('/api/data/')) {\n      // Rate limit + dev CORS headers on all API responses\n      const r = rateHit(req);\n      const rlHdr = {\n        'X-RateLimit-Limit': String(RATE.cap),\n        'X-RateLimit-Remaining': String(r.remain),\n        'X-RateLimit-Reset': String(Math.ceil(r.resetAt/1000))\n      };\n      if (!r.ok) {\n        return new Response('Too Many Requests', { status: 429, headers: corsHeaders(rlHdr) });\n      }\n\n      // Ordered routing: contexts \u2192 all \u2192 list \u2192 profile \u2192 contact \u2192 404\n      if (url.pathname === '/api/data/contexts' || url.pathname === '/api/data/contexts/')\n        return handleContexts(req, env, url, corsHeaders(rlHdr));\n\n      // Honeypot: pretend \"all\" exists; always empty\n      if (url.pathname === '/api/data/all' || url.pathname === '/api/data/all/')\n        return new Response(JSON.stringify({ items: [], nextCursor: null, totalApprox: 0 }), {\n          status: 200, headers: corsHeaders(rlHdr)\n        });\n\n      if (url.pathname === '/api/data/list')\n        return handleList(req, env, url, corsHeaders(rlHdr));\n\n      if (url.pathname === '/api/data/profile')\n        return handleProfile(req, env, url, corsHeaders(rlHdr));\n\n      if (url.pathname === '/api/data/contact')\n        return handleContact(req, env, url, corsHeaders(rlHdr));\n\n      // Keep CORS echo on 404 so localhost can read status\n      return new Response('Not Found', { status: 404, headers: corsHeaders(rlHdr) });\n    }\n\n    // route /allsubs (and /{lang}/allsubs) to SPA shell\n    if (url.pathname === '/allsubs' || /^\\/[a-z]{2}\\/allsubs\\/?$/.test(url.pathname)) {\n      const shell = await env.ASSETS.fetch(new Request(new URL('/index.html', url)));\n      const out = new Response(shell.body, { status: 200, headers: new Headers(shell.headers) });\n      out.headers.set('x-ng-worker', 'ok'); // keep debug header\n      return out;\n    }\n\n    // ensure we have the static asset response before rewriting\n    let res = await env.ASSETS.fetch(req);\n    res = new Response(res.body, { status: res.status, headers: new Headers(res.headers) });\n    res.headers.set('x-ng-worker', 'ok'); // quick check in DevTools\n    // Echo CORS on /data/* for dev; overwrite any wildcard to support credentials.\n    if (url.pathname.startsWith('/data/')) {\n      const h = corsHeaders();\n      h.forEach((v, k) => res.headers.set(k, v));\n    }\n\n    const ct = res.headers.get('content-type') || '';\n    if (!ct.includes('text/html')) return res; // only rewrite HTML\n\n    // ---- locale detection (explicit \u2192 implicit \u2192 fallback)\n    const qLang = url.searchParams.get('lang');                  // ?lang=hu\n    const pathSeg = url.pathname.split('/').filter(Boolean);\n    const pathLang = SUPPORTED.includes(pathSeg[0]) ? pathSeg[0] : null;\n    const cookieLang = readCookie(req.headers.get('cookie') || '', 'app_lang');\n    const acceptLang = pickFromAcceptLanguage(req.headers.get('accept-language') || '');\n\n    // URL path decides language; root (no prefix) is EN.\n    // Do not honor query, cookies, or Accept-Language for <html lang>.\n    const locale = pathLang || DEFAULT;\n\n    // ---- build canonical + alternates for the current route\n    const { canonical, alternates, xDefault } = buildLocalizedUrls(url, locale);\n\n    // country meta from CF, used by your JS\n    const cfCountry = (req.cf && req.cf.country) || 'US';\n\n    // flags to avoid duplicating existing tags\n    let hasHreflang = false, hasOgLocale = false, hasCountryMeta = false, hasCanonical = false;\n\n    const rewriter = new HTMLRewriter()\n      // <html lang=\"\u2026\">\n      .on('html', {\n        element(e) {\n          e.setAttribute('lang', locale);\n        }\n      })\n\n      // mark existing tags we might otherwise duplicate\n      .on('link[rel=\"alternate\"][hreflang]', { element() { hasHreflang = true; } })\n      .on('link[rel=\"canonical\"]', {\n        element(e) { hasCanonical = true; e.setAttribute('href', canonical); }\n      })\n      .on('meta[name=\"cf-country\"]', { element() { hasCountryMeta = true; } })\n      .on('meta[property=\"og:locale\"]', {\n        element(e) { hasOgLocale = true; e.setAttribute('content', ogFor(locale)); }\n      })\n\n      // inject what\u2019s missing near the end of <head>\n      .on('head', {\n        element(e) {\n          if (!hasCountryMeta) {\n            e.append('<meta name=\"cf-country\" content=\"'+cfCountry+'\">', { html: true });\n          }\n          if (!hasCanonical) {\n            e.append('<link rel=\"canonical\" href=\"'+canonical+'\">', { html: true });\n          }\n          if (!hasHreflang) {\n            // x-default first (Google recommendation)\n            e.append('<link rel=\"alternate\" hreflang=\"x-default\" href=\"'+xDefault+'\">', { html: true });\n            for (const [lang, href] of Object.entries(alternates)) {\n              e.append('<link rel=\"alternate\" hreflang=\"'+lang+'\" href=\"'+href+'\">', { html: true });\n            }\n          }\n          if (!hasOgLocale) {\n            // primary locale + alternates for OG\n            e.append('<meta property=\"og:locale\" content=\"'+ogFor(locale)+'\">', { html: true });\n            for (const alt of SUPPORTED.filter(l => l !== locale)) {\n              e.append('<meta property=\"og:locale:alternate\" content=\"'+ogFor(alt)+'\">', { html: true });\n            }\n          }\n        }\n      });\n    const out = await rewriter.transform(res);\n    out.headers.set('x-ng-worker', 'ok'); // persists on HTML too\n    return out;\n  }\n};\n\n// -------- Data handlers (tiny payloads; no secrets) --------\nasync function handleContexts(req, env, url, extraHdr){\n  // Serve contexts via API to avoid Access on /data/*\n  const r = await env.ASSETS.fetch(new Request(new URL('/data/contexts.json', url), { headers: req.headers }));\n  if (!r.ok) return new Response('Data load error', { status: 500 });\n  const body = await r.text();\n  const h = new Headers({ 'content-type':'application/json','Cache-Control':'private, max-age=60' });\n  if (extraHdr) extraHdr.forEach((v, k) => h.set(k, v));\n  return new Response(body, { status: 200, headers: h });\n}\n\n// List endpoint: requires context; returns 200 with empty items when missing, adds small jitter for low-signal callers.\nasync function handleList(req, env, url, extraHdr){\n  const q = url.searchParams; // needed later\n\n  // Require context; return empty (200) to hide signals.\n  const ctxParam = (q.get('context')||'').trim();\n  const limit = Math.min(Math.max(Number(q.get('limit')||20),1),20); // \u226420 per page\n  const MAX_PAGES = 5; // \u2264~100 items total\n  if (!ctxParam) {\n    const h = new Headers({ 'content-type':'application/json' });\n    if (extraHdr) extraHdr.forEach((v,k)=>h.set(k, v));\n    return new Response(JSON.stringify({ items:[], nextCursor:null, totalApprox:0 }), { status:200, headers:h });\n  }\n\n  // Load canonical dataset (read-only); return empty list if not found\n  const resp = await env.ASSETS.fetch(new Request(new URL('/data/profiles.json', url), { headers: req.headers }));\n  const profiles = resp.ok ? await resp.json() : { locations: [] }; // fallback: empty list\n\n  let rows = Array.isArray(profiles?.locations) ? profiles.locations : [];\n\n  const ctx = ctxParam.toLowerCase(); // validated\n  // Add 50\u2013200ms jitter when no Referer or UA (scraper signals).\n  const hasRef = !!req.headers.get('referer');\n  const hasUA  = !!req.headers.get('user-agent');\n  if (!hasRef || !hasUA) { await new Promise(res => setTimeout(res, 50 + Math.floor(Math.random()*150))); }\n\n  // Optional filters (context + group/city/postal)\n  const group=(q.get('group')||'').toLowerCase();\n  const city=(q.get('city')||'').toLowerCase();\n  const postal=(q.get('postal')||'').toLowerCase();\n  if (ctx)   rows = rows.filter(r=>String(r.context||r.Context||'').toLowerCase().includes(ctx));\n  if (group) rows = rows.filter(r=>String(r.groupKey||r.Group||'').toLowerCase().includes(group));\n  if (city)  rows = rows.filter(r=>String(r?.contact?.city||'').toLowerCase().includes(city));\n  if (postal)rows = rows.filter(r=>String(r?.contact?.postalCode||'').toLowerCase().includes(postal));\n  rows = rows.filter(r=>String(r.Visible||r.visible||'Yes').toLowerCase()==='yes');\n\n  const idx = Math.max(Number(q.get('cursor')||0),0);\n  const slice = rows.slice(idx, idx+limit);\n\n  // Rich list fields (UI-ready; keeps payload small)\n  const items = slice.map(p => {\n    // normalize helpers (emit numbers if possible)\n    const coord = (() => {\n      // object {lat,lng} in profiles.json\n      if (p && typeof p.coord === 'object') {\n        const la = Number(p.coord.lat ?? p.coord.latitude);\n        const ln = Number(p.coord.lng ?? p.coord.longitude);\n        if (Number.isFinite(la) && Number.isFinite(ln)) return { lat: la, lng: ln };\n      }\n      // string \"lat,lng\" from any known field\n      const cc = p['Coordinate Compound'] || p.coordinateCompound || p.coord || p.coordinate || '';\n      if (typeof cc === 'string' && cc.includes(',')) {\n        const [a, b] = cc.split(',').map(s => Number(s.trim()));\n        if (Number.isFinite(a) && Number.isFinite(b)) return { lat: a, lng: b };\n      }\n      return null; // no coords\n    })();\n\n    const mediaCover = (p.media && p.media.cover) ||\n      (Array.isArray(p.media?.images) && p.media.images[0]?.src) || '';\n\n    // links (social + official + booking + newsletter)\n    const links = Object.assign({}, p.links || {}, {\n      official: p.official_url || p.Official || p.official || '',\n      Facebook: p.Facebook || '',\n      Instagram: p.Instagram || '',\n      Pinterest: p.Pinterest || '',\n      Spotify: p.Spotify || '',\n      TikTok: p.TikTok || '',\n      YouTube: p.Youtube || p.YouTube || '',\n      booking: p.bookingUrl || (p.contact && p.contact.bookingUrl) || '',\n      newsletter: p.Newsletter || ''\n    });\n\n    // contact (address, city, admin area, country, phone/email, messaging)\n    const contact = Object.assign({}, p.contact || {}, {\n      address: p.Address || (p.contact && p.contact.address) || '',\n      postalCode: p.PostalCode || p.postalCode || (p.contact && p.contact.postalCode) || '',\n      city: p.City || (p.contact && p.contact.city) || '',\n      adminArea: p.AdminArea || p.adminArea || (p.contact && p.contact.adminArea) || '',\n      countryCode: p.CountryCode || p.countryCode || (p.contact && p.contact.countryCode) || '',\n      phone: p.Phone || (p.contact && p.contact.phone) || '',\n      email: p.Email || (p.contact && p.contact.email) || '',\n      whatsapp: p.WhatsApp || p.whatsapp || (p.contact && p.contact.whatsapp) || '',\n      telegram: p.Telegram || p.telegram || (p.contact && p.contact.telegram) || '',\n      messenger: p.Messenger || p.messenger || (p.contact && p.contact.messenger) || '',\n      bookingUrl: p.bookingUrl || (p.links && p.links.booking) || (p.contact && p.contact.bookingUrl) || ''\n    });\n\n    // ratings + price\n    const ratings = {\n      google: {\n        rating: Number(p.google_rating ?? p.googleRating ?? NaN),\n        count: Number(p.google_count ?? p.googleCount ?? NaN)\n      },\n      tripadvisor: {\n        rating: Number(p.tripadvisor_rating ?? p.tripRating ?? NaN),\n        count: Number(p.tripadvisor_count ?? p.tripCount ?? NaN)\n      }\n    };\n    const pricing = {\n      admission: p.Admission || p.admission || '',\n      priceFrom: p.price_from || p.priceFrom || '',\n      currency: p.Currency || p.currency || ''\n    };\n\n    // tags (accept Tag pipe/comma separated or array p.tags)\n    const extraTags = (typeof p.Tag === 'string')\n      ? p.Tag.split(/[\\|,]/).map(s => s.trim()).filter(Boolean)\n      : [];\n    const tags = Array.isArray(p.tags) ? p.tags : [];\n    const tagsMerged = Array.from(new Set([...tags, ...extraTags]));\n\n    return {\n      id: p.ID || p.id,\n      name: p.name?.en || p.Name || '',\n      shortName: p.shortName?.en || p['Short Name'] || '',\n      groupKey: p.groupKey || p.Group || '',\n      coord, // normalized {lat,lng} or null\n      Priority: ((p.Priority === true || p.Priority === 1) ||\n                 (String(p.Priority ?? p.priority ?? p.Popular ?? 'No').toLowerCase() === 'yes'))\n                ? 'Yes' : 'No', // Popular reads this\n      contact,\n      ratings,\n      pricing,\n      descriptions: p.descriptions || {},   // pass-through if present\n      lang: p.Lang || p.lang || ''          // hint for client-side pick\n    };\n  });\n\n  const nextCursor = (idx+limit<rows.length && (idx/limit+1)<MAX_PAGES) ? (idx+limit) : null;\n  // keep CORS + RL headers; Headers must be merged explicitly\n  const h = new Headers({ 'content-type':'application/json','Cache-Control':'private, max-age=60' });\n  if (extraHdr) extraHdr.forEach((v, k) => h.set(k, v));\n  return new Response(JSON.stringify({ items, nextCursor, totalApprox: Math.min(rows.length, MAX_PAGES*limit) }), { status:200, headers:h });\n}\n\nasync function handleProfile(req, env, url, extraHdr){\n  const id = url.searchParams.get('id')||''; if(!id) return new Response('Bad Request',{status:400});\n  const r = await env.ASSETS.fetch(new Request(new URL('/data/profiles.json', url), { headers: req.headers }));\n  if (!r.ok) return new Response('Data load error', { status: 500 });\n  const profiles = await r.json();\n  const p = (Array.isArray(profiles?.locations)?profiles.locations:[]).find(x=>String(x.ID||x.id)===String(id));\n  if(!p) return new Response('Not Found',{status:404});\n  const payload = {\n    id: p.ID||p.id, name: p.name||p.Name||'', shortName: p.shortName||p['Short Name']||'',\n    descriptions: p.descriptions||{}, tags: Array.isArray(p.tags)?p.tags:[],\n    coord: (() => {\n      if (p && typeof p.coord === 'object') {\n        const la = Number(p.coord.lat ?? p.coord.latitude);\n        const ln = Number(p.coord.lng ?? p.coord.longitude);\n        if (Number.isFinite(la) && Number.isFinite(ln)) return { lat: la, lng: ln };\n      }\n      const cc = p['Coordinate Compound'] || p.coordinateCompound || p.coord || p.coordinate || '';\n      if (typeof cc === 'string' && cc.includes(',')) {\n        const [a, b] = cc.split(',').map(s => Number(s.trim()));\n        if (Number.isFinite(a) && Number.isFinite(b)) return { lat: a, lng: b };\n      }\n      return null;\n    })(),\n    media: { cover: p.media?.cover||'', images: Array.isArray(p.media?.images)?p.media.images:[] },\n    links: p.links||{}\n  };\n  \n  // Keep CORS + RL headers; ensure Vary: Origin persists\n  const h = new Headers({ 'content-type':'application/json','Cache-Control':'private, max-age=60' });\n  if (extraHdr) extraHdr.forEach((v, k) => h.set(k, v));\n\n  return new Response(JSON.stringify(payload), { status:200, headers:h });\n}\n\nasync function handleContact(req, env, url, extraHdr){\n  const id=url.searchParams.get('id')||''; const kind=(url.searchParams.get('kind')||'').toLowerCase();\n  if(!id || !['phone','email','booking'].includes(kind)) return new Response('Bad Request',{status:400});\n  const r = await env.ASSETS.fetch(new Request(new URL('/data/profiles.json', url), { headers: req.headers }));\n  if (!r.ok) return new Response('Data load error', { status: 500 });\n  const profiles = await r.json();\n  const p = (Array.isArray(profiles?.locations)?profiles.locations:[]).find(x=>String(x.ID||x.id)===String(id));\n  if(!p) return new Response('Not Found',{status:404});\n  const c = p.contact||{};\n  // booking: 204 if missing; 200 JSON if present (no redirect)\n  if (kind === 'booking') {\n    const link = p?.contact?.bookingUrl || p?.links?.booking || '';\n    if (!link) return new Response('No booking', { status: 204 });\n    const h = new Headers({ 'content-type': 'application/json' });\n    if (extraHdr) extraHdr.forEach((v2, k) => h.set(k, v2));\n    return new Response(JSON.stringify({ href: link }), { status: 200, headers: h });\n  }\n  if(kind==='phone'){ const v=c.phone?'tel:'+String(c.phone).trim():''; if(!v) return new Response('No phone',{status:204});\n    const h=new Headers({'content-type':'application/json'}); if (extraHdr) extraHdr.forEach((v2,k)=>h.set(k,v2));\n    return new Response(JSON.stringify({href:v}),{status:200,headers:h}); }\n  if(kind==='email'){ const v=c.email?'mailto:'+String(c.email).trim():''; if(!v) return new Response('No email',{status:204});\n    const h=new Headers({'content-type':'application/json'}); if (extraHdr) extraHdr.forEach((v2,k)=>h.set(k,v2));\n    return new Response(JSON.stringify({href:v}),{status:200,headers:h}); }\n}\n\n/* ---------------- helpers ---------------- */\n\nfunction readCookie(cookieHeader, name) {\n  const m = cookieHeader.match(new RegExp('(?:^|; )' + name.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') + '=([^;]*)'));\n  return m ? decodeURIComponent(m[1]) : null;\n}\n\nfunction pickFromAcceptLanguage(al) {\n  // parse \"en-GB,en;q=0.9,hu;q=0.8\"\n  const parts = al.split(',').map(s => {\n    const [tag, qStr] = s.trim().split(';q=');\n    return { tag: tag.toLowerCase(), q: qStr ? parseFloat(qStr) : 1 };\n  }).sort((a, b) => b.q - a.q);\n\n  for (const { tag } of parts) {\n    const primary = tag.split('-')[0];\n    if (SUPPORTED.includes(primary)) return primary;\n  }\n  return null;\n}\n\nfunction ogFor(lang) {\n  return OG_MAP[lang] || `${lang}_${lang.toUpperCase()}`;\n}\n\nfunction buildLocalizedUrls(url, locale) {\n  const origin = `${url.protocol}//${url.host}`;\n  const segs = url.pathname.split('/').filter(Boolean);\n  const firstIsLocale = SUPPORTED.includes(segs[0]);\n\n  // compute path for a given target locale\n  const pathFor = (target) => {\n    const rest = firstIsLocale ? '/' + segs.slice(1).join('/') : url.pathname;\n    if (target === DEFAULT) return rest || '/';\n    return firstIsLocale ? `/${target}${rest}` : `/${target}${url.pathname}`;\n  };\n\n  const canonical = origin + pathFor(locale);\n  const xDefault = origin + pathFor(DEFAULT);\n\n  const alternates = {};\n  for (const lang of SUPPORTED) {\n    alternates[lang] = origin + pathFor(lang);\n  }\n\n  return { canonical, alternates, xDefault };\n}\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"C:\\\\Users\\\\USER\\\\Documents\\\\a_git\\\\navigen-go\\\\frontend\\\\public\\\\_worker.js\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"C:\\\\Users\\\\USER\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"C:\\\\Users\\\\USER\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"C:\\\\Users\\\\USER\\\\Documents\\\\a_git\\\\navigen-go\\\\frontend\\\\public\\\\_worker.js\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"C:\\\\Users\\\\USER\\\\.wrangler\\\\tmp\\\\bundle-Jk3Kko\\\\middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"C:\\\\Users\\\\USER\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\common.ts\";\nimport type { WorkerEntrypointConstructor } from \"C:\\\\Users\\\\USER\\\\.wrangler\\\\tmp\\\\bundle-Jk3Kko\\\\middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"C:\\\\Users\\\\USER\\\\.wrangler\\\\tmp\\\\bundle-Jk3Kko\\\\middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"C:\\\\Users\\\\USER\\\\.wrangler\\\\tmp\\\\pages-47fhXb\\\\bundledWorker-0.8521475654352839.mjs\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"C:\\\\Users\\\\USER\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"C:\\\\Users\\\\USER\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"C:\\\\Users\\\\USER\\\\.wrangler\\\\tmp\\\\pages-47fhXb\\\\bundledWorker-0.8521475654352839.mjs\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"C:\\\\Users\\\\USER\\\\Documents\\\\a_git\\\\navigen-go\\\\frontend\\\\public\\\\.wrangler\\\\tmp\\\\bundle-iZtP4T\\\\middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"C:\\\\Users\\\\USER\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\common.ts\";\nimport type { WorkerEntrypointConstructor } from \"C:\\\\Users\\\\USER\\\\Documents\\\\a_git\\\\navigen-go\\\\frontend\\\\public\\\\.wrangler\\\\tmp\\\\bundle-iZtP4T\\\\middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"C:\\\\Users\\\\USER\\\\Documents\\\\a_git\\\\navigen-go\\\\frontend\\\\public\\\\.wrangler\\\\tmp\\\\bundle-iZtP4T\\\\middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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",
  "names": ["__name", "out", "h", "drainBody", "middleware_ensure_req_body_drained_default", "reduceError", "jsonError", "middleware_miniflare3_json_error_default", "__INTERNAL_WRANGLER_MIDDLEWARE__", "middleware_ensure_req_body_drained_default", "middleware_miniflare3_json_error_default", "middleware_insertion_facade_default", "__facade_middleware__", "__facade_register__", "__facade_invokeChain__", "__facade_invoke__", "__facade_middleware__", "__Facade_ScheduledController__", "___Facade_ScheduledController__", "wrapExportedHandler", "__INTERNAL_WRANGLER_MIDDLEWARE__", "__facade_register__", "__facade_invoke__", "wrapWorkerEntrypoint", "WRAPPED_ENTRY", "middleware_insertion_facade_default", "middleware_loader_entry_default"]
}
