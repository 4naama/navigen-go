@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Raleway:wght@600&display=swap');

#page-title,
h1,
h2,
.alert-title,
.group-header-button {
  font-family: 'Raleway', sans-serif;
}

.page-subtext {
  font-family: 'Raleway', sans-serif;
  font-weight: 400;
  text-align: center;
  margin: 0.2em 0 1em;
}

/* Use Raleway for all group headers and section titles */
#popular-title,
.group-header-button,
.accordion-button {
  font-family: 'Raleway', sans-serif;
}

#popular-title {
  font-weight: bold;
  font-size: 20px;
  text-align: center;
  margin: 16px 0 16px 0;
  cursor: default;
}

/* Use Poppins for all buttons and location labels */
.quick-button,
button,
#search,
#search-box,
#here-button,
#alert-indicator {
  font-family: 'Poppins', sans-serif;
}

body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background-color: #f7f9fb;
  color: #333;
  height: 100vh;
  overflow: hidden; /* important! scrolls are delegated to containers */
}

.header-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1em;
  padding: 1em 0.5em 0.25em; /* ⬅️ reduced bottom padding */
  margin: 0;
  padding-left: max(1em, env(safe-area-inset-left));
  padding-right: max(1em, env(safe-area-inset-right));
}
#logo-icon {
  font-size: 20px;
  line-height: 1;
  cursor: pointer;
  display: inline-block;
  color: inherit;
  flex-shrink: 0;
  transition: transform 0.2s ease;
}

#logo-icon:hover {
  transform: scale(1.2) rotate(-5deg);
}

#page-title {
  flex: 1;
  font-size: 20px;
  line-height: 1.2;
  text-align: center;
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 2.4em; /* ~matching 1.2em top & bottom padding */
  font-weight: bold;
}

.header-pin {
  font-size: 20px;
  line-height: 1;
  display: flex;
  align-items: center;
  flex-shrink: 0;
  height: 1.2em;
}

.header-pin:hover {
  cursor: pointer;
  transform: scale(1.2) rotate(10deg);
  transition: transform 0.2s ease;
}

/* View-by gear size & interactions — center in row */
#view-gear{
  font-size: 20px;                 /* match pin size */
  width: 36px; height: 36px;       /* comfortable hit target */
  margin: 0 8px;
  padding: 6px 8px;
  border: 0;
  background: transparent;
  cursor: pointer;
  border-radius: 8px;
  display: inline-flex;            /* center emoji inside */
  align-items: center;             /* vertical center (inner) */
  justify-content: center;         /* horizontal center (inner) */
  align-self: center;              /* vertical center in flex row */
  line-height: 1;                  /* no baseline drift */
}

#view-gear:hover{ background: rgba(0,0,0,.06); }
#view-gear:focus-visible{ outline: 2px solid #e11; outline-offset: 2px; }


/* ===========================
   🔎 Search — unified styles
   (preserves your comment blocks, de-duplicated)
   =========================== */

/* 🎛️ Theme vars (easy to tweak) */
:root{
  --search-border: #d6dbe1;
  --search-focus:  #5b8def;               /* alt focus color (no black) */
  --search-shadow: rgba(91,141,239,.15);  /* soft focus ring */
}

/* 📦 Search container — full-width row */
#search-container {
  display: flex;
  justify-content: center;
  margin: 4px 1em;
}

/* Inner row: stretch; no fixed cap */
#search-container > div {
  display: flex;
  gap: 10px;
  align-items: center;
  flex: 1 1 auto;
  width: 100%;
  max-width: none;
  min-width: 0;
}

/* 📦 Wrapper around input and clear button */
#search-left {
  position: relative;         /* anchor for the clear button */
  display: inline-flex;
  align-items: center;
  flex: 1 1 auto;
  min-width: 0;
  width: auto;
}

/* 🧠 Input */
#search{
  width: calc(100% + 6px);  /* +5–8px visual growth; adjust 6px as needed */
  margin-right: -6px;       /* keep layout stable; only the box extends */
  box-sizing: border-box;   /* ensure borders are included */

  height: 36px;
  /* top | right | bottom | left */
  padding: 8px 10px 8px 14px;  /* right = 10px, left = 14px */
  background: #fff;
  border: 1px solid var(--search-border, #d7dde4);
  border-radius: 6px;
  font-family: 'Poppins', system-ui, sans-serif;
  font-size: 16px;
  font-weight: 400;
  line-height: 1;
  outline: none;
}

/* When the user has typed, reserve room for the × so text never sits under it */
#search:not(:placeholder-shown){
  padding-right: 2.25rem;     /* reserve only after input */
}

/* (you already have this) reveal the × only when there is content */
#search:not(:placeholder-shown) + #clear-search{
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Optional: disable the browser’s native search-cancel icon if type="search" is used */
input[type="search"]::-webkit-search-cancel-button{ -webkit-appearance: none; }

#search::placeholder { font-weight: 400; color: #666; opacity: 1; }

#search:focus,
#search:focus-visible {
  border-color: var(--search-focus, #7aa2ff);
  box-shadow: 0 0 0 3px var(--search-shadow, rgba(122,162,255,.2));
}

/* ❌ Clear button — sits inside the input on the right */
#clear-search {
  position: absolute;
  top: 50%;
  right: 65px;
  transform: translateY(-50%);
  display: none;              /* JS toggles; CSS also reveals on value */
  width: 24px;
  height: 24px;
  padding: 0;
  margin: 0;
  border: 1px solid #cbd5e1;
  border-radius: 6px;
  background: #fff;
  font-size: 12px;            /* bold X */
  font-weight: 700;
  line-height: 1;
  color: #475569;
  cursor: pointer;
  z-index: 1;                 /* above input */
}
#clear-search:hover { background: #f1f5f9; color: #334155; }
#clear-search:active { transform: translateY(-50%) scale(0.98); }

/* CSS-only reveal when the input has content */
#search:not(:placeholder-shown) + #clear-search {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Optional JS-coop: if your code toggles a wrapper class, honor it */
#search-left.has-value #clear-search {
  display: inline-flex;
}

/* Controls keep fixed size; drop legacy margin in this row */
#search-container #view-gear,
#search-container #here-button {
  flex: 0 0 auto;
}
#search-container #here-button { margin-left: 0; }

/* ==============================
   📜 Main content + scroll zone
   (aligned, de-duplicated, maintainable)
   ============================== */

/* Layout constants (edit to match your UI) */
:root {
  --header-h: 56px;          /* fixed header height */
  --bottom-band-h: 50px;     /* fixed bottom band (my stuff/alert/help/acc) */
  --end-gap: 50px;           /* visual gap above bottom band */
  --stack-gap: 8px;          /* vertical spacing between blocks */
  --content-pad-x: 1em;      /* horizontal padding for content */
}

/* 📜 Main content area and scroll zone above bottom band */
#main-content {
  display: flex;
  flex-direction: column;
  /* Full *visible* viewport height minus fixed bars.
     Uses var(--vh) (set via JS) for mobile URL bar correctness. */
  height: calc(var(--vh, 100vh) - var(--bottom-band-h) - var(--header-h));
  box-sizing: border-box;
  padding: 0 var(--content-pad-x);
  overflow: hidden; /* disable scrolling here; delegate to #locations-scroll */
}

/* The ONLY vertical scroller for the page’s content */
#locations-scroll {
  flex: 1 1 auto;
  min-block-size: 0;               /* allow scroller to shrink in flex */
  overflow-y: auto;
  overscroll-behavior-y: contain;
  /* overflow-anchor: auto; default when line below is removed */
  box-sizing: border-box;

  /* Keep content clear of fixed bars (top/bottom) + add visual end gap */
  padding-top: 0; /* first item sits flush under header (header is outside) */
  padding-bottom: calc(var(--bottom-band-h)
                      + env(safe-area-inset-bottom, 0px)
                      + var(--end-gap));
  scroll-padding-bottom: calc(var(--bottom-band-h) + var(--end-gap));

  /* Touch polish + stable layout on scrollbar show/hide */
  -webkit-overflow-scrolling: touch;
  touch-action: pan-y;
  scrollbar-gutter: stable both-edges;

  /* Stacked layout for Popular + Accordion sections */
  display: flex;
  flex-direction: column;
  gap: var(--stack-gap);
}

/* Remove unintended extra gaps at the very top/bottom of the list */
#locations-scroll > :first-child { margin-top: 0; }
#locations-scroll .accordion-section:first-child { margin-top: 0; }
#locations-scroll .accordion-section:last-child  { margin-bottom: 0; }

/* Your existing quick buttons block */
#quick-buttons {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 6px;
  max-width: 90%;
}

.hidden { display: none !important; }

h2 {
  font-size: 20px;
  font-weight: bold;
  margin: 0.5em 0 0.25em;
}

/* 🟢 WhatsApp Button */
#whatsapp-link {
  display: flex;
  align-items: center;
  gap: 6px;
  background: none;
  border: none;
  color: #25d366;
  font-size: 22px;
  font-weight: bold;
  line-height: 1;
  cursor: pointer;
  padding: 0;
  height: 40px; /* keeps it aligned with others */
}

#whatsapp-link .wa-icon {
  height: 22px;
  width: auto;
}

/* ♿ Accessibility Button */
#accessibility-button {
  display: inline-block;
  background: none;
  border: none;
  color: inherit;
  font-size: 22px;
  line-height: 1;
  cursor: pointer;
  padding: 0;
  border-radius: 0.5em;
}

#accessibility-button:focus,
#accessibility-button:focus-visible {
  outline: none;
}

#locations h3 {
  font-size: 20px;
  font-weight: bold;
  text-align: center;
  margin: 1em 0 0.5em 0;
}

#quick-buttons-wrapper {
  display: flex;
  justify-content: center;
  overflow-y: auto;
  max-height: 84px;
  margin-bottom: 1em;
  scroll-behavior: smooth;
}

.alert-button {
  background-color: #e63946;
  color: white;
  white-space: normal;
  text-align: center;
  line-height: 1.4;
  padding: 0.75em 1em;
  font-size: 20px;
  pointer-events: none;
  overflow-wrap: break-word;
  word-break: break-word;
  width: 100%;
  box-sizing: border-box;
}

.alert-box {
  background-color: #e63946;
  color: white;
  text-align: center;
  line-height: 1.5;
  padding: 0.75em 1em;
  font-size: 18px;
  width: 80%;
  max-width: 400px;
  margin: 1em auto;
  border-radius: 0.5em;
  box-sizing: border-box;
  white-space: pre-wrap;
  overflow-wrap: break-word;
  word-break: break-word;
  display: block;
}

.alert-card {
  background-color: #e63946;
  color: white;
  width: 90%;
  max-width: 320px;
  margin: 0.5em auto;
  border-radius: 0.5em;
  padding: 0.75em 1em;
  box-sizing: border-box;
  text-align: left;
  font-size: 18px;
  line-height: 1.5;
}

.alert-title {
  display: flex;
  justify-content: space-between;
  font-weight: bold;
  margin-bottom: 0.5em;
  font-size: 18px;
}

.alert-timestamp {
  font-weight: normal;
  font-size: 16px;
  color: #fdd;
  white-space: nowrap;
}

.alert-body {
  font-weight: normal;
  white-space: normal;
  word-break: break-word;
}

.alert-card.empty {
  background-color: #f0f0f0;
  color: #444;
  font-style: italic;
}

/* ──────────────── High Contrast Mode ──────────────── */
body.high-contrast {
  background-color: #111;
  color: #fff;
  font-size: 110%;
}

/* General Buttons */
body.high-contrast button,
body.high-contrast .quick-button,
body.high-contrast .accordion-button,
body.high-contrast .group-header-button {
  background-color: #222 !important;
  color: #fff !important;
  border: 1px solid #888 !important;
}

body.high-contrast button:hover,
body.high-contrast .quick-button:hover,
body.high-contrast .accordion-button:hover,
body.high-contrast .group-header-button:hover {
  background-color: #333 !important;
}

/* Accordion Inner Group Buttons */
body.high-contrast .group-buttons .quick-button,
body.high-contrast .location-button {
  background-color: #222 !important;
  color: #fff !important;
  border: 1px solid #666 !important;
}

body.high-contrast .group-buttons .quick-button:hover,
body.high-contrast .location-button:hover {
  background-color: #333 !important;
}

/* ⭐ Special Case: Popular Group */
body.high-contrast .group-header-button[data-group="group.popular"],        /* 💥 Popular replaced*/
body.high-contrast .quick-button[data-group="group.popular"] {              /* 💥 Popular replaced*/
  background-color: rgba(255, 193, 7, 0.2) !important;
  color: #fff !important;
  border-color: #ffc107 !important;
}

body.high-contrast .quick-button[data-group="group.popular"]:hover {            /* 💥 Popular replaced*/
  background-color: rgba(255, 193, 7, 0.3) !important;
}

/* Optional: Large Text */
body.large-text {
  font-size: 1.15em;
}

/* ------------------------------
   General Icon Styles
   ------------------------------ */

/* Use for emoji, <img>, or <svg> icons inline with text or buttons */
.icon, .icon-img, .icon-svg {
  width: 1.2em;
  height: 1.2em;
  vertical-align: middle;
  display: inline-block;
  line-height: 1;
}

/* ------------------------------
   Community Zone Buttons
   ------------------------------ */

.community-button {
  display: inline-block;
  background: #e6f7fb;
  color: #222;
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 0.6em 1em;
  margin: 0.4em;
  font-size: 1em;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.community-button:hover {
  background-color: #e6e6e6;
  border-color: #ccc;
}

.community-grid {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  margin-top: 1em;
}


/* ------------------------------
   Social Link Buttons
   ------------------------------ */

/* Circular social button container (e.g., for Twitter, GitHub, etc.) */
.social-link {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 3em;
  height: 3em;
  margin: 0.5em;
  border-radius: 50%;
  background-color: #f1f1f1;
  transition: background-color 0.2s ease;
}

.social-link:hover {
  background-color: #ddd;
}

/* Icon inside social-link button */
.social-link img {
  width: 24px;
  height: 24px;
}


/* ------------------------------
   Standalone Social Icons
   ------------------------------ */

/* Container style */
.social-link-grid {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 1.25em;
  margin-top: 1em;
}

/* Each icon wrapper */
.social-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background-color: #f1f1f1;
  transition: background-color 0.2s ease;
}

/* Icon image inside */
.social-icon img {
  width: 28px;
  height: 28px;
  transition: transform 0.2s ease;
}

/* Hover effect (desktop only) */
@media (hover: hover) {
  .social-icon:hover {
    background-color: #e0e0e0;
  }

  .social-icon img:hover {
    transform: scale(1.2);
  }
}

/* Responsive grid for flag/language selection */
.flag-list {
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* Max 4 per row */
  gap: 1em;
  justify-items: center;
  margin-top: 1em;
}

/* Flag icon inside the grid */
.flag-list img {
  width: 40px;
  height: 40px;
  border-radius: 4px;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease, filter 0.2s ease;
}

/* Desktop hover only */
@media (hover: hover) {
  .flag-list img:hover {
    transform: scale(1.1);
    box-shadow: 0 0 6px rgba(0, 0, 0, 0.2);
  }
}

/* Disabled flag style (subtle dim with grayscale) */
.flag-list img.disabled {
  opacity: 0.35;
  filter: grayscale(100%);
  pointer-events: none;
  cursor: default;
}

/* ⛔ Removed selected-flag styling */
/* Was used to show blue border for active language — removed by user request */
.flag-list img.selected-flag {
  border: none !important;
  padding: 0 !important;
  box-shadow: none !important;
  background: none !important;
}

/* ──────────────────────────────────────────────────────────
   Modal containers — unified base
   Applies the same shell to every app modal; visibility is
   controlled by toggling the .hidden class in JS.
   ────────────────────────────────────────────────────────── */
/* Modal containers — unified base */
:root {
  --modal-pad: 2em;
  --modal-backdrop: rgba(0, 0, 0, 0.25);
  --modal-blur: 1px; /* readable text behind */
}

#my-stuff-modal,
#help-modal,
#language-modal,
#social-modal,
#alert-modal,
#pinned-modal,
#share-location-modal,
#donation-modal {
  position: fixed;
  inset: 0;
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  padding: var(--modal-pad);
  background: var(--modal-backdrop);
  /* subtle blur; keeps chars readable behind */
  -webkit-backdrop-filter: blur(var(--modal-blur));
  backdrop-filter: blur(var(--modal-blur));
}

#my-stuff-modal:not(.hidden),
#help-modal:not(.hidden),
#language-modal:not(.hidden),
#social-modal:not(.hidden),
#alert-modal:not(.hidden),
#pinned-modal:not(.hidden),
#share-location-modal:not(.hidden),
#donation-modal:not(.hidden) {
  display: flex;
}

/* Share Location compact tweak */
#share-location-modal { padding: 1em; }

/* Keep these inner rules */
#share-location-modal .modal-body { text-align: center; }
#share-location-coords {
  font-family: monospace;
  font-size: 1.1rem;
  margin: 0.75em 0;
  text-align: center;
}
#share-location-modal .modal-footer,
#share-location-modal .modal-actions { margin-top: 1.5em; }

/* Help: country select — taller, centered, no overflow */
#help-modal #emg-country{
  display:block;                     /* layout */
  width:min(100%, 320px);            /* clamp width inside card */
  margin:0 auto;                     /* center within the body */
  height:36px;                       /* readable tap target */
  padding:6px 36px 6px 12px;         /* room for arrow */
  font-size:16px;
  line-height:1.2;
  border:1px solid #e0e0e0;
  border-radius:8px;
  background:#fff;
  box-sizing:border-box;
  appearance:none; -webkit-appearance:none; -moz-appearance:none; /* custom-stylable */
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 6'><path d='M1 1l4 4 4-4' fill='none' stroke='%23666' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/></svg>");
  background-repeat:no-repeat;
  background-position:right 10px center;
  background-size:14px 14px;
}
/* hide legacy arrow if present */
#help-modal #emg-country::-ms-expand{ display:none; }

/* ──────────────── Main Modal Container ──────────────── */
/* Defines scrollable vertical layout — structure only; visual layout is handled by layout modifiers (e.g. .modal-action) */
.modal-content {
  display: flex;                              /* ✅ Enables vertical stacking of children */
  flex-direction: column;                     /* ✅ Top-to-bottom content flow */
  background: white;                          /* ✅ White modal background (used unless overridden) */
  border-radius: 0.5em;                       /* ✅ Rounded corners for visual clarity */
  padding: 1.5em;                             /* ✅ Inner spacing for typical modals */

  width: min(95vw, 720px);                    /* ✅ Responsive width: stretches up to a limit */
  max-height: calc(100vh - 6em);              /* ✅ Prevents modal from touching screen edges vertically */
  overflow-y: auto;                           /* ✅ Enables scroll inside modal body if content overflows */

  z-index: 1001;                              /* ✅ Positions above backdrop layer */
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25); /* ✅ Drop shadow gives depth to modal card */
  font-size: 18px;                            /* ✅ Base font size inside modal */
  line-height: 1.5;                           /* ✅ Ensures readable spacing for multi-line text */
  box-sizing: border-box;                     /* ✅ Includes padding within declared width */
}

/* 🧾 Paragraph styling inside modals for consistent spacing and readability */
/* Applies to direct <p> elements inside any modal-content container */
.modal-content p {
  font-size: 14px;           /* ✅ Smaller, modal-friendly text size */
  margin-bottom: 1em;        /* ✅ Creates vertical spacing between text blocks */
  text-align: center;        /* ✅ Center-align for modals like Share or Confirm */
}

/* 🎁 Styled Stripe donation buttons inside modal */
/* Applies only to buttons used for Stripe purchases */
.modal-content form {
  display: flex;             /* ✅ Ensures centering horizontally */
  justify-content: center;  /* ✅ Centers button in modal */
  margin-bottom: 1.2rem;     /* ✅ Adds space below each button */
}

/* ✅ Add spacing between each donation button form */
.modal-content form + form {
  margin-top: 0.5rem;        /* ✅ Adds vertical space between stacked forms */
}

.donation-note-wrapper {
  text-align: center;
  margin-bottom: 1.4rem;
}

.donation-note {
  font-size: 15px;
  font-weight: 500;
  color: #444;
  line-height: 1.5;
}

.donation-options {
  display: flex;
  flex-direction: column;
  align-items: center;  /* ✅ Center buttons horizontally */
  gap: 0.6rem;          /* ✅ Space between buttons */
  margin-bottom: 1.4rem;
}

.smiley {
  display: block;
  margin-top: 4px;
  font-size: 16px;
  color: #666;
}

#stripe-loader {
  position: fixed;
  inset: 0;
  background: rgba(255, 255, 255, 0.96); /* Slightly stronger overlay */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-family: "Raleway", sans-serif;
  font-size: 1rem;
  color: #333;
  z-index: 9999;
  pointer-events: all;             /* Ensures it blocks interaction */
  transition: opacity 0.3s ease;   /* Smooth fade if animated */
}

#stripe-loader.hidden {
  opacity: 0;
  pointer-events: none;
}

.stripe-spinner {
  width: 40px;
  height: 40px;
  border: 4px solid #8fd19e;
  border-top-color: transparent;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 1rem;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}


.modal-content button[type="submit"] {
  width: 80%;                                 /* ✅ Uniform button width (responsive) */
  padding: 0.9rem 1.4rem;                     /* ✅ Comfortable padding */
  font-size: 16px;                            /* ✅ Slightly smaller text than modal body */
  font-weight: 600;                           /* ✅ Strong readable label */
  border: none;                               /* ✅ Clean borderless look */
  border-radius: 10px;                        /* ✅ Rounded corners to match modal style */
  background: linear-gradient(to right, #ffeac4, #fff5e5); /* ✅ Soft pastel background */
  color: #5a3e00;                             /* ✅ Warm, friendly text color */
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);  /* ✅ Subtle shadow for depth */
  cursor: pointer;                            /* ✅ Clickable feel */
  transition: all 0.2s ease;                  /* ✅ Smooth hover animation */
}

.modal-content button[type="submit"]:hover {
  background: #ffe1b0;                        /* ✅ Slight darkening on hover */
  transform: translateY(-2px);                /* ✅ Subtle lift on hover */
}

/* ──────────────── Scrollable Content Area ──────────────── */
/* Ensures long content inside body scrolls properly */
.modal-body {
  overflow-y: auto;
  flex-grow: 1;
  padding: 0;              /* ⛔ Removed padding to avoid inset scrollbar */
  scrollbar-gutter: stable; /* ✅ Keeps scrollbar flush right without shifting content */
}

/* Inner wrapper for proper spacing inside modal content */
.modal-body-inner {
  padding: 1.2rem;         /* ✅ Provides inner spacing without affecting scrollbar edge */
}

/* ──────────────── Modal Headers & Top Bar ──────────────── */
/* Close sits in-row; header can wrap without shifting alignment */
.modal-top-bar{
  position: sticky; top: 0; z-index: 2;
  display: flex; align-items: flex-start; justify-content: space-between; gap: 12px;
  padding: 16px 16px 12px 16px;  /* in-row × → no right reserve */
  margin: 0 0 8px 0;
  background: #fff;
  border-bottom: 1px solid rgba(0,0,0,.08);
}

.modal-top-bar h2{
  flex: 1 1 auto;
  font-size: 20px;
  line-height: 1.2;
  margin: 0;
}

/* Winner: in-row + sticky header; this is the authoritative modal × rule */
/* Adjust font-size here to control the modal × across the app */
.modal .modal-top-bar .modal-close{
  appearance: none; -webkit-appearance: none;
  position: static;               /* in-row; participates in flex */
  margin-left: auto;              /* push to right edge */
  align-self: flex-start;         /* align with first line */
  background: transparent; border: 0; cursor: pointer;
  color: #d11;
  font-size: 30px;                /* your chosen × size */
  line-height: 1;
  border-radius: 8px;
  padding: 2px 6px;               /* keep tap target */
}
.modal .modal-top-bar .modal-close:hover{ color:#a00; }
.modal .modal-top-bar .modal-close:focus-visible{ outline:2px solid currentColor; outline-offset:2px; }

/* My Stuff: center title; keep × on the same top line (right) */
#my-stuff-modal .modal-top-bar{
  display: grid; grid-template-columns: 1fr auto 1fr; align-items: flex-start; gap: 12px;
  /* padding/background/border inherit from base block above */
}
#my-stuff-modal .modal-top-bar h1,
#my-stuff-modal .modal-top-bar h2{
  grid-column: 2; justify-self: center; text-align: center;
  margin: 0; line-height: 1.2;  /* compact first line */
}
#my-stuff-modal .modal-top-bar .modal-close{
  position: static; grid-column: 3; justify-self: end; align-self: flex-start;
  margin-left: 0;  /* flex-only push not used in grid */
}

/* ──────────────── Modal Footer Layout ──────────────── */
/* Shared footer layout for modals: My Stuff, Share, Alert, Confirm, Resolved, etc. */
.modal-footer {
  position: sticky; bottom: 0; z-index: 2; /* pinned inside the scroller */
  display: flex; justify-content: center; align-items: center;
  margin-top: auto;
  padding: 0.75em 1em 0.5em;
  border-top: 1px solid rgba(0, 0, 0, 0.08);
  background: rgba(245, 245, 245, 0.95);
  backdrop-filter: blur(3px);
  gap: 1em; flex-wrap: wrap;
}

#my-stuff-modal .modal-footer {
  background: rgba(245, 245, 245, 1); /* same gray, fully opaque */
  backdrop-filter: none;               /* keep color, no see-through blur */
}

/* ──────────────── Modal Footer Buttons ──────────────── */
/* Used in info-type modals like "My Stuff" with a neutral footer action */
.modal-footer-button {
  background: #d1e0fe;
  color: #0f172a;
  font-weight: 500;
  font-size: 0.95rem;
  padding: 0.7em 1.25em;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  transition: background 0.2s ease, transform 0.1s ease;
  display: inline-flex;
  align-items: center;
  justify-content: flex-start;
  gap: 0.5em;
  text-align: left;
}

.modal-footer-button:hover {
  background: #1667cc;
  transform: translateY(-1px);
}

/* Footer button inside modal-footer container */
.modal-footer .modal-footer-button {
  width: auto;
  align-self: center; /* tidy alignment */
}

/* compact CTA bar: emoji-only buttons; labels stay for SR */
.cta-compact .modal-footer-button{
  width:44px; height:44px;           /* 44px tap target */
  padding:0;                          /* center emoji */
  border-radius:12px;
  display:inline-flex; align-items:center; justify-content:center;
  font-size:20px;                     /* emoji size */
  line-height:1;                      /* prevent emoji baseline shift */
  -webkit-tap-highlight-color:transparent; /* cleaner tap on iOS */
  touch-action:manipulation;          /* faster taps */
  transition:transform .06s ease, box-shadow .12s ease, background-color .12s ease;
}
.cta-compact .modal-footer-button:hover{ transform:translateY(-1px); }
.cta-compact .modal-footer-button:active{ transform:translateY(0); box-shadow:0 0 0 2px rgba(0,0,0,.06) inset; }

/* keyboard focus ring */
.cta-compact .modal-footer-button:focus-visible{
  outline:2px solid #1a73e8;         /* app accent */
  outline-offset:2px;
}

/* visually hide label text, keep for assistive tech */
.cta-compact .modal-footer-button .cta-label{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0;
}

/* CTA icon size for image-based buttons (e.g., Waze) */
.cta-compact .modal-footer-button .cta-icon{
  width:20px; height:20px; display:block;
}

/* high-contrast support */
body.high-contrast .cta-compact .modal-footer-button{
  background:#222 !important;
  color:#fff !important;
  border:1px solid #888 !important;
}

/* LPM: rating row (emoji radios) */
.lpm-rating{
  margin:.75em 0 0;
  display:flex;
  flex-direction:column;      /* stack hint UNDER the row */
  align-items:center;         /* center horizontally */
  justify-content:flex-start; /* keep top-aligned */
}

.lpm-rating .rate-row{
  display:flex;               /* center the 5 emojis */
  gap:8px;
  align-items:center;
  justify-content:center;
  margin:0;                   /* no extra offset */
}

.lpm-rating .rate-btn{
  width:36px; height:36px;
  display:inline-flex; align-items:center; justify-content:center;
  border:1px solid #e0e0e0; border-radius:10px;
  background:#f8f8f8; font-size:20px; line-height:1;
  cursor:pointer;
  transition:background .15s ease, box-shadow .15s ease, border-color .15s ease;
}

.lpm-rating .rate-btn:hover{ background:#f1f1f1; }
.lpm-rating .rate-btn[aria-checked="true"]{
  background:#e8f0fe; border-color:#1a73e8;
  box-shadow:0 0 0 2px rgba(26,115,232,.15) inset;
}

.lpm-rating .rate-hint{
  margin-top:6px;             /* show under the row */
  font-size:.9rem; opacity:.75;
}

body.high-contrast .lpm-rating .rate-btn[aria-checked="true"]{
  background:#333; border-color:#fff;
  box-shadow:0 0 0 2px rgba(255,255,255,.3) inset;
}

.lpm-rating .rate-btn[disabled]{
  opacity:.55; cursor:default; pointer-events:none;
}

/* QR modal: emoji-only CTAs */
.qr-ctas{
  display:flex;
  justify-content:center;
  gap:12px;
  margin-top:12px;
}
.qr-cta{
  width:44px; height:44px;           /* comfortable tap target */
  display:inline-flex; align-items:center; justify-content:center;
  border:1px solid #e0e0e0;
  border-radius:12px;
  background:#f8f8f8;
  font-size:22px; line-height:1;     /* emoji size */
  cursor:pointer;
  transition:background .15s ease, box-shadow .15s ease, border-color .15s ease, transform .06s ease;
}
.qr-cta:hover{ background:#f1f1f1; transform:translateY(-1px); }
.qr-cta:active{ transform:translateY(0); box-shadow:0 0 0 2px rgba(0,0,0,.06) inset; }
.qr-cta:focus-visible{ outline:2px solid #1a73e8; outline-offset:2px; }

/* high-contrast */
body.high-contrast .qr-cta{
  background:#222; color:#fff; border-color:#888;
}

/* ──────────────── LPM tweaks (no new classes) ──────────────── */
/* push ⋮ to the right */
#lpm-overflow{
  margin-left:auto; /* 🎯 | 📅 | 🔳 | —— space —— | ⋮ */
}

/* secondary actions container under the main row */
#lpm-secondary-actions{
  flex-basis:100%;   /* clean break onto new line */
  display:none;      /* hidden until ⋮ toggles */
  margin-top:.5em;
  gap:.5em;
}

/* reveal when active */
#lpm-secondary-actions.is-open{
  display:flex;
  flex-wrap:wrap;    /* wrap gracefully on narrow screens */
}

/* ──────────────── LPM Image Slider ──────────────── */
/* Container within .location-media */
/* fixed box + crossfade (no layout shift) */
.lpm-slider{
  position:relative;
  width:100%;
  aspect-ratio:1/1;
  border-radius:8px;
  overflow:hidden;
  box-sizing:border-box;
  padding-top:8px;   /* keep top breathing room for rounded corners */
}
.lpm-track{
  position:relative;
  width:100%;
  height:100%;
}

/* two-image buffer */
.lpm-img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:contain;
  opacity:0;
  transition:opacity 160ms ease;
}
.lpm-img.active{ opacity:1; }

/* (optional) single-slide fallback */
.lpm-slide{
  display:none;
  width:100%;
  height:auto;
  object-fit:cover;
}
.lpm-slide.active{ display:block; }

/* Nav buttons */
.lpm-prev,.lpm-next{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  border:0;
  background:rgba(0,0,0,.6);
  color:#fff;
  font-size:2rem;
  line-height:1;
  padding:0 .5rem;
  cursor:pointer;
  border-radius:6px;
}
.lpm-prev{ left:10px; }
.lpm-next{ right:10px; }
.lpm-prev:hover,.lpm-next:hover{ background:rgba(0,0,0,.6); }
.lpm-prev:focus,.lpm-next:focus{ outline:2px solid rgba(255,255,255,.6); }

/* LPM: header flush + keep content from sliding underneath */
#location-profile-modal .modal-content{
  padding-top:0;                 /* header touches the top edge */
}
#location-profile-modal .modal-top-bar{
  position:sticky; top:0; z-index:2;
  background:#fff;               /* solid cover while sticky */
}
#location-profile-modal .modal-body{
  margin-top:12px;               /* small buffer under header (like other modals) */
}


/* ──────────────── Modal Body Action Button ──────────────── */
/* Used in body-action modals like "Share" */
.modal-body-button {
  background: #d1e0fe;
  color: #0f172a;
  font-weight: 500;
  font-size: 0.95rem;
  padding: 0.5em 1em;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  transition: background 0.2s ease;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  min-width: 120px;
  max-width: 100%;
  align-self: center;
}

.modal-body-button:hover {
  background: #c6dafe;
  transform: translateY(-1px);
}

/* ──────────────── Modal Body Text Styles ──────────────── */
.modal-body .muted {
  font-size: 0.9em;
  color: #666;
  margin-bottom: 0.5em;
}

.modal-body .location-coords {
  font-size: 1.1em;
  margin-bottom: 1em;
  font-family: monospace;
}

/* Coordinates display formatting */
.modal-body .location-coords {
  font-size: 1.1em;
  margin-bottom: 1em;
}

/* ──────────────── My Stuff Menu Cards ──────────────── */
/* Styled like grouped quick-buttons, but tailored for modal menu use */
/* Scalable base: can later be driven by dynamic JSON like group-buttons */

.my-stuff-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  margin: 0.5em 0;
  width: 100%;
  background: #f8f8f8;
  border: 1px solid #e0e0e0;
  border-radius: 10px;
  font-family: inherit;
  font-size: 1rem;
  text-align: left;
  cursor: pointer;
  transition: background 0.2s ease;
}

.my-stuff-item:hover {
  background: #f1f1f1;
}

.my-stuff-item .icon {
  font-size: 1.5rem;
  flex-shrink: 0;
}

/* label: allow wrapping within flex so text never spills */
.my-stuff-item .label {
  display: flex;
  flex-direction: column;
  font-weight: 600;
  line-height: 1.2;
  flex: 1 1 auto;          /* use remaining row space */
  min-width: 0;            /* prevent flex overflow */
  overflow-wrap: anywhere; /* wrap mid-length words */
  word-break: break-word;  /* safety for long tokens */
}

.my-stuff-item .label small {
  font-weight: 400;
  opacity: 0.7;
  font-size: 0.85rem;
}

/* My Stuff modal: header flush to top, scrollbar on card edge */
#my-stuff-modal .modal-content{
  padding-top: 0;    /* attach sticky header to the top edge */
  padding-right: 0;  /* scrollbar flush right */
  padding-left: 0;   /* ⬅ remove leftover 1.5em from .modal-menu to re-center */
}

/* no mid-gutter on the scroll container */
#my-stuff-modal .modal-body{
  padding: 0;
}

/* restore inner spacing for content (keeps column visually centered) */
#my-stuff-modal .modal-body-inner{
  padding: 0 1.5em 1.5em 1.5em;  /* symmetric side padding */
  box-sizing: border-box;
  min-width: 0;
}

/* label wrapping (prevents text spill on narrow screens) */
.my-stuff-item .label{
  display: flex;
  flex-direction: column;
  font-weight: 600;
  line-height: 1.2;
  flex: 1 1 auto;
  min-width: 0;
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* ──────────────── No-Miss Info View ──────────────── */
.no-miss-section {
  padding: 1rem;
  font-size: 0.95rem;
  line-height: 1.6;
}

.no-miss-section .section-header {
  font-weight: 600;
  font-size: 1.1rem;
  margin-bottom: 1rem;
}

.no-miss-section .section-header small {
  display: block;
  font-weight: 400;
  font-size: 0.85rem;
  opacity: 0.7;
  margin-top: 0.2rem;
}

.no-miss-block {
  margin-bottom: 1rem;
}

.no-miss-title {
  font-weight: 600;
  margin-bottom: 0.3rem;
}

.no-miss-body {
  font-weight: 400;
  opacity: 0.85;
}

.no-miss-thanks {
  margin-top: 1.5rem;
  font-weight: 500;
  text-align: center;
  font-size: 1rem;
}

/* Inline SVG logo icon replacement for 👤 */
.inline-icon.logo-icon {
  display: inline-block;
  width: 1em;
  height: 1em;
  vertical-align: text-bottom;
  background: url('/assets/logo-icon.svg') no-repeat center center;
  background-size: contain;
}


/* WhatsApp */
.wa-text {
  font-weight: normal;
  font-size: 20px;
  color: #128c7e;
}

button:hover {
  background-color: rgba(0, 0, 0, 0.08);
  transition: background-color 0.2s ease;
}

/* Accordion Section */
.accordion-section {
  margin-top: 8px;
  scroll-margin-top: var(--header-h);
}

.accordion-body {
  display: none;
  padding: 0.5em 1em;
  border: 1px solid #e0e0e0;
  border-top: none;
  background-color: #fafafa;
}

.accordion-button {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding: 10px 16px;
  font-size: 16px;
  font-weight: bold;
  color: black;
  background-color: white;
  border: 1px solid #e0e0e0;
  border-radius: 6px;
  cursor: pointer;
  text-align: left;
  box-sizing: border-box;
  transition: background-color 0.2s ease, border-color 0.2s ease;
  margin-bottom: 0.5em;
}

.accordion-button > span {
  margin-left: 1em;
}

/* Optional spacing between stacked headers */
.accordion-button + .accordion-button {
  margin-top: 0.5em;
}

/* Base style for ALL quick buttons */
.quick-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  height: 36px;
  padding: 8px 14px;
  font-size: 16px;
  font-weight: bold;
  border-radius: 6px;
  background-color: white;
  border: 1px solid transparent;
  color: black;
  cursor: pointer;
  white-space: nowrap;
  text-align: center;
  line-height: 1;
  flex-shrink: 0;
  box-sizing: border-box;
  margin: 4px 6px;
  transition:
    background-color 0.2s ease,
    transform 0.1s ease,
    box-shadow 0.1s ease,
    border-color 0.2s ease;
}

.quick-button:hover {
  background-color: var(--group-color, #f5f5f5);
  border-color: var(--group-color-ink, #999);
  transform: translateY(-1px);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
}

/* Optional: softer hover background for Populars only */
.quick-button.popular-button:hover {
  background-color: #fff3e5;
  border-color: #e36700;
}

/* Group header buttons (category titles like "Social", "Stages", etc.) */
.group-header-button {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5em;
  height: 2.8em;
  padding: 0 1em;
  font-size: 18px;
  border-radius: 6px;
  border: 1px solid #ddd;
  background: none;
  color: inherit;
  width: 100%;
  text-align: left;
  cursor: pointer;
  margin: 0;
  transition: border-color 0.2s ease, background-color 0.2s ease;
}

.group-header-button .header-title {
  flex-grow: 1;
  text-align: left;
}

.group-header-button .header-meta {
  font-size: 0.9em;
  opacity: 0.7;
}

.group-header-button .header-arrow {
  font-size: 1.1em;
  opacity: 0.6;
}

.group-header-button:hover {
  border-color: var(--group-color-ink, #999);
  background-color: var(--group-color, #f9f9f9);
}

.group-header-button .header-arrow::after {
  content: "▸";
  display: inline-block;
  transition: transform 0.25s ease;
}

.group-header-button.open .header-arrow::after {
  transform: rotate(90deg);
}

.group-buttons {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 4px 6px; /* row gap = 4px, column gap = 6px */
  padding: 0.2em 0 0.4em;
  margin-top: 0.25em;
}

.group-buttons.hidden {
  display: none;
}

/* Unified shape & spacing */
.group-buttons button.quick-button[data-group]:not([data-group="Alerts"]):not([data-group="Social"]) {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 36px;
  padding: 8px 14px;
  font-size: 16px;
  font-weight: bold;
  border-radius: 6px;
  background-color: var(--group-color, white); /* was: white */
  color: black;
  cursor: pointer;
  white-space: nowrap;
  line-height: 1;
  flex-shrink: 0;
  box-sizing: border-box;
  margin: 2px 4px;
  transition: background-color 0.2s ease, transform 0.1s ease, box-shadow 0.1s ease;
}

/* Hover styling */
.group-buttons button.quick-button[data-group]:not([data-group="Alerts"]):not([data-group="Social"]):hover {
  background-color: var(--group-color, #f9f9f9); /* was: #f9f9f9 */
  border-color: var(--group-color-ink, currentColor);
  transform: translateY(-1px);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

/* 🎯 Location/group child buttons inside accordion or popular sections */
.location-button {
  border: 1px solid var(--group-color-ink, transparent); /* was: transparent */
  border-radius: 6px;
  padding: 6px 12px;
  font-weight: 500;
  background: none;
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
}

.location-button:hover {
  box-shadow: 0 0 0 2px var(--group-color-ink, currentColor); /* was: currentColor */
  background-color: var(--group-color, #fafafa);              /* was: #fafafa */
}

/* sub headers */
.subheader {
  display: flex;
  align-items: center;
  gap: .5rem;
  padding: 6px 8px 4px 16px;   /* extra indent */
  font-weight: 600;            /* semi-bold subs */
  cursor: pointer;
  user-select: none;
}

/* chevron – show only if there are items (needs Chrome/Edge/Safari :has) */
.subheader:has(+ .subgroup-items:not(:empty))::after {
  content: "▸";
  margin-left: auto;
  opacity: .6;
  transition: transform .18s ease, opacity .18s ease;
}

/* expanded state flips chevron */
.subheader.is-open:has(+ .subgroup-items)::after {
  transform: rotate(90deg);
  opacity: .8;
}

/* optional count pill pulled from data-count */
.subheader[data-count]::before {
  content: attr(data-count);
  font-weight: 600;
  font-size: 11px;
  line-height: 1;
  padding: 3px 6px;
  border-radius: 999px;
  background: rgba(0,0,0,.08);
  color: rgba(0,0,0,.65);
}

/* wrapper that holds the sub’s buttons */
.subgroup-items {
  padding: 6px 0 8px 24px;     /* nested indent under the sub */
}

/* collapsed */
.subgroup-items.is-collapsed { display: none; }

#here-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 36px;
  padding: 8px 14px;
  font-size: 16px;
  font-weight: bold;
  border-radius: 6px;
  background-color: white;
  border: 1px solid #e63946; /* red border */
  color: black;
  cursor: pointer;
  line-height: 1;
  white-space: nowrap;
  box-sizing: border-box;
  transition: background-color 0.2s ease, border-color 0.2s ease;
  margin-left: 16px; /* ✅ replaces previous margin, adds reliable space from input */
}

#here-button:hover {
  background-color: #ffe5e8;
  border-color: #c92a38;
}

#search-box {
  font-size: 16px;
  font-weight: bold;
  padding: 8px 14px;
  border: 1px solid #ccc;
  border-radius: 6px;
  line-height: 1;
  height: 36px;
  box-sizing: border-box;
  background-color: white;
  vertical-align: middle;
}

#search-box:focus {
  border-color: #888;
  box-shadow: 0 0 0 2px rgba(0,0,0,0.05);
}

#alert-indicator {
  font-size: 20px;
  cursor: pointer;
  padding: 6px 10px;
  margin-left: 8px;
  border-radius: 6px;
  border: 1px solid #ff4d4f;
  background-color: white;
  color: #ff4d4f;
  font-weight: bold;
  line-height: 1;
  transition: background-color 0.3s ease, opacity 0.3s ease;
}

/* Flashing red effect */
.flashing-alert {
  animation: flash-alert 1s infinite;
}

@keyframes flash-alert {
  0%, 100% { background-color: white; }
  50%      { background-color: #ffe6e6; }
}

#alert-indicator.hidden {
  display: none;
}

/* 📎 Bottom Band Layout */
#bottom-band {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 50px; /* reduced from 60px */
  background: #fff;
  border-top: 1px solid #ccc;
  display: flex;
  justify-content: space-around;
  align-items: center;
  z-index: 999;
  box-shadow: 0 -2px 6px rgba(0, 0, 0, 0.1);
}

/* 🎛️ Unified Bottom Band Button Styles */
#bottom-band button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  color: inherit;
  font-size: 20px; /* slightly smaller to match reduced band height */
  line-height: 1;
  cursor: pointer;
  padding: 0;
  border-radius: 0.5em;
  height: 34px; /* reduced from 40px */
  width: 34px;  /* keep square */
}

#bottom-band button:hover {
  background-color: rgba(0, 0, 0, 0.05);
  transition: background-color 0.2s ease;
}

@keyframes reveal-scroll-space {
  0%   { transform: translateY(0); }
  10%  { transform: translateY(-48px); }  /* pull up */
  70%  { transform: translateY(-48px); }  /* hold position */
  100% { transform: translateY(0); }      /* release */
}

.scroll-hint {
  animation: reveal-scroll-space 2.8s ease-out;
}

.alert-block {
  padding: 1em 0;
}

.alert-message {
  text-align: center;
  margin-bottom: 0.5em;
}

.fade-out {
  opacity: 0;
  transition: opacity 0.5s;
}

.alert-summary {
  border-top: 1px solid #1b8e0d; /* soft green */
  margin-top: 1em;
  padding-top: 0.75em;
  text-align: center;
  font-size: 0.85em;
  color: #444;
  opacity: 0.85;
}

.community-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin: 12px 0;
}

#locations {
  margin-top: 1em;
}

.quick-buttons-wrapper {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 0px;
  max-height: calc(2 * (36px + 8px)); /* 2 rows: height + vertical margin */
  overflow-y: auto;
  scroll-behavior: smooth;
}

.quick-buttons-wrapper::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 16px;
  pointer-events: none;
  background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,1));
}

.section-spacer {
  height: 1.0em;
}
/* Placeholder message for empty states */
.empty-placeholder {
  text-align: center;
  padding: 2em 1em;
  color: #888;
  font-style: italic;
  font-size: 16px;
  line-height: 1.6;
}

/* ────────────── Toast Notification ────────────── */
/* single instance; header + red × close */
.toast{
  position:fixed;
  bottom:33vh; /* one-third from bottom */
  left:50%;
  transform:translateX(-50%) translateY(20px);
  background:#fff;
  color:#333;
  padding:14px 16px 16px;
  border-radius:12px;
  font-size:17px;
  font-weight:500;
  font-family:inherit;
  box-shadow:0 4px 12px rgba(0,0,0,.15);
  z-index:10000;
  opacity:0;
  pointer-events:auto;
  transition:opacity .4s ease, transform .4s ease;
  max-width:min(92vw, 420px);
}
.toast.visible{ opacity:1; transform:translateX(-50%) translateY(0); }

/* header row with title + red close */
.toast .toast-header{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  margin-bottom:8px;
}
.toast .toast-title{ font-weight:600; font-size:17px; line-height:1.2; }

/* Toast header with title + red close */
/* Adjust font-size here to control the toast × */
.toast .toast-close{
  appearance:none; -webkit-appearance:none;
  background:transparent; border:0; cursor:pointer;
  font-size:18px; /* set your desired toast × size */
  line-height:1; color:#d11;
  padding:2px 6px; border-radius:6px;
}

.toast .toast-close:hover{ color:#a00; }
.toast .toast-close:focus-visible{ outline:2px solid currentColor; outline-offset:2px; }

/* body + links */
.toast .toast-body{ line-height:1.45; }
.toast a, .toast .toast-link{ color:#1976d2; text-decoration:underline; }
.toast a:hover, .toast .toast-link:hover{ text-decoration:none; }

/* legacy helpers kept for compat */
.toast-content{ text-align:center; display:flex; flex-direction:column; align-items:center; }
.toast-btn{
  margin-top:10px; background:#d1e0fe; color:#0f172a; border:0;
  padding:8px 16px; border-radius:8px; font-size:15px; font-weight:500; font-family:inherit;
  cursor:pointer; transition:background .3s ease;
}
.toast-btn:hover{ background:#c6dafe; }
/* .subtext intentionally not used anymore */

#scroll-zone {
  overflow-y: auto;
  height: calc(100vh - 400px); /* adjust this if layout shifts */
  padding-bottom: 90px;
}

/* ==========================================================================
   🧩 Modal System — Structure + Variants
   Overlay scrolls at viewport edges; content never creates inner scrollbars.
   ========================================================================== */

/* ─────────────── Base overlay (edge scrollbar) ─────────────── */
.modal{
  position:fixed; inset:0; display:none; z-index:1000;
  background:rgba(0, 0, 0, 0.5); backdrop-filter:blur(3px);
  align-items:flex-start; justify-content:center;
  padding:16px;
  overflow-y:hidden;           /* card scrolls; no screen-edge bar */
}

.modal.visible{ display:flex; }
.modal.hidden{ display:none; }

/* White card; no internal scrolling */
.modal .modal-content{
  width:min(92vw, 640px);
  background:#fff; color:#333;
  border-radius:16px;
  box-shadow:0 10px 24px rgba(0,0,0,.18);
  max-height:calc(100vh - 32px);  /* 2× overlay padding */
  overflow-y:auto;                 /* ← scrollbar on card edge */
  overflow-x:hidden;
  scrollbar-gutter: stable;        /* reserve just enough, no fat gutter */
}

/* Let the card be the only scroller; keep body content spaced */
.modal .modal-body{
  padding:0 16px 16px;
  overflow:visible;   /* no inner scroll that would make a mid-gutter */
}

/* Restore content padding, including the right side moved off the scroller */
.modal .modal-body-inner{
  font-size:16px;
  padding:0 16px 0 16px;
}

/* Buttons/footer area */
.modal .modal-actions{
  display:flex; flex-direction:column; align-items:flex-start;
  gap:.75em; margin-top:1.5em;
}

/* ─────────────── Variants (attach to .modal-content) ─────────────── */

/* Header flush to top; content retains side/bottom padding */
.modal .modal-content.modal-menu{
  padding: 0 1.5em 1.5em;   /* ⬅️ remove ONLY the top padding */
}

/* Same for action-style modals (Help, etc.) */
.modal .modal-content.modal-action{
  padding: 0 1.5em 1.5em;   /* header attached; content spaced */
}

.modal-menu-list{ display:flex; flex-direction:column; gap:.75em; } /* helper */
.modal-menu-item{
  display:flex; align-items:center; gap:12px;
  padding:12px 16px; background:#f8f8f8; border:1px solid #e0e0e0;
  border-radius:10px; font:inherit; font-size:1rem; text-align:left;
  cursor:pointer; transition:background .2s ease;
}

/* View Settings selected option */
.modal-menu-item.is-active {
  background:#e8f0fe;
  border-color:#1a73e8;
  box-shadow:0 0 0 2px rgba(26,115,232,.15) inset;
}
.modal-menu-item.is-active:focus-visible {
  outline:2px solid #1a73e8;
  outline-offset:2px;
}
body.high-contrast .modal-menu-item.is-active {
  background:#333;
  border-color:#fff;
  box-shadow:0 0 0 2px rgba(255,255,255,.3) inset;
}

/* Layout variant — general forms/content (Share Location, Help) */
.modal .modal-content.modal-layout{ padding:1.5em; }
.modal-layout .modal-body p{
  font-size:1.05rem; line-height:1.5; margin-bottom:1.5em; text-align:left;
}
.modal-layout .form-control{ display:block; margin-bottom:1.5em; text-align:left; }

/* Alert variant — dismissible stack with footer */
.modal .modal-content.modal-alert{ padding:1.5em; }
.modal-alert .alert-card{
  background:#fff9f9; border:1px solid #ffd0d0; border-radius:8px;
  padding:1em 1.25em; margin-bottom:1em; box-shadow:0 0 0 1px rgba(255,0,0,.08);
}
.modal-alert .alert-card.unread{ background:#fff3f3; border-color:#ff9999; }
.modal-alert .alert-card .alert-action{ margin-top:.75em; text-align:right; }
.modal-alert-footer{
  margin-top:1.25em; font-size:.85rem; text-align:center; opacity:.7;
  border-top:1px solid #e0e0e0; padding-top:.75em;
}

/* ──────────────── Modal Shop Category ──────────────── */
/* Used for: Final donation/product checkout */

.modal-shop-item {
  padding: 1.5em;
}

.modal-shop-item .price {
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: 1em;
}

/* ──────────────── Purchase History Cards ──────────────── */
/* Used for: Rendering receipt cards inside My Stuff modal */
/* Mirrors donation-option styling for visual consistency */

.purchase-card {
  background: #f9f9fc;                  /* 🧊 Soft, clean background */
  border: 1px solid #e5e7eb;            /* 🪟 Subtle border */
  border-radius: 12px;                  /* 💫 Rounded edges */
  padding: 1rem 1.2rem;                 /* 📦 Space inside */
  margin-bottom: 1rem;                  /* 📏 Space between cards */
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04); /* ✨ Soft lift */
}

.purchase-card:hover {
  border-color: #1a73e8;
  box-shadow: 0 2px 6px rgba(26, 115, 232, 0.12);
}

.purchase-card .subtext {
  font-size: 0.85rem;
  font-weight: 400;
  color: #666;
}

.purchase-card .timestamp {
  font-size: 0.8rem;
  color: #999;
}

/* ──────────────── Purchase History Container ──────────────── */
/* Hosts all rendered purchases inside the modal */
/* Prevents height collapse and ensures cards are displayed */

#purchase-history {
  display: grid;                    /* ✅ Ensures spacing between purchase cards */
  grid-template-columns: 1fr;      /* ✅ Single-column layout */
  gap: 1em;                         /* ✅ Vertical spacing between cards */
  padding: 1.5em;                   /* ✅ Modal-safe inner spacing */
  min-height: 100px;               /* ✅ Prevents collapse when cards exist */
}


/* ✅ Make the checkmark blue */
.form-control input[type="checkbox"]:checked {
  accent-color: #1a73e8;
}

/* ✅ Keep checkbox label text muted */
.form-control {
  display: flex;
  align-items: center;
  gap: 0.5em;
  font-size: 0.95rem;
  color: #666; /* Adjust to your muted style if needed */
}

/* Header tint (soft background, readable border) */
.group-header-button[data-group] {
  /* do not remove existing comments; add minimal ones only */
  background-color: var(--group-color, transparent);
  border-color: var(--group-color-ink, currentColor);
}

/* Nested buttons: read ink color from the container vars set by JS */
.accordion-body .location-button,
.group-buttons .location-button {
  border-color: var(--group-color-ink, #ddd);
  box-shadow: 0 0 0 1px var(--group-color-ink, #ddd);
}

/* Hover/focus: gentle fill using the base color */
.location-button:hover,
.location-button:focus {
  background-color: var(--group-color, transparent);
}

/* Optional: quick buttons, chips, etc., if you have them */
.quick-button[data-group] {
  border-color: var(--group-color-ink, currentColor);
  background-color: var(--group-color, transparent);
}

/* Tag chips row shown just below the media image */
.tag-chips{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin:.6em 0;
}
.tag-chip{
  padding:.25em .6em;
  border:1px solid var(--group-color-ink,#cbd5e1);
  border-radius:999px;
  font-size:.8rem;
  background:var(--group-color,#f3f4f6);
  user-select:none;
}
.tag-chip:hover{
  box-shadow:0 0 0 2px var(--group-color-ink,#94a3b8);
}
